<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Friend Finder</title>
    <!-- Latest compiled and minified CSS & JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>

<body>
    <div class="container">
        <div class="jumbotron text-center">
            <h1>Friend Finder</h1>
            <hr>
            <h3>Take The Survey</h3>
            <hr>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <div class="card">
                    <div class="card-header"><strong>
                            Please provide the information below:</strong>
                    </div>
                    <div class="card-body">
                        <form role="form" id="survey">
                            <div class="form-group">
                                <label for="name">Name (required)</label>
                                <input type="text" class="form-control" id="name">
                            </div>
                            <div class="form-group">
                                <label for="role">Photo Link (required)</label>
                                <input type="text" class="form-control" id="link">
                            </div>
                            <h3>Please select how strongly you agree or disagree with the following statements:</h3>
                            <div class="row col-lg-12">
                                <h4>Question 1</h3>
                                    <br>
                                    <br>
                                    <h4>You have an outgoing personality.</h4>
                                    <br>
                                    <br>
                                    <div class="form-group col-xs-3">
                                        <select class="form-control" id="q1">
                                            <option>1 (Strongly Disagree)</option>
                                            <option>2</option>
                                            <option>3</option>
                                            <option>4</option>
                                            <option>5 (Strongly Agree)</option>
                                        </select>
                                    </div>
                            </div>
                            <div class="row col-lg-12">
                                <h4>Question 2</h3>
                                    <br>
                                    <br>
                                    <h4>You tend to keep your word.</h4>
                                    <br>
                                    <br>
                                    <div class="form-group col-xs-3">
                                        <select class="form-control" id="q2">
                                            <option>1 (Strongly Disagree)</option>
                                            <option>2</option>
                                            <option>3</option>
                                            <option>4</option>
                                            <option>5 (Strongly Agree)</option>
                                        </select>
                                    </div>
                            </div>
                            <!-- <div class="row col-lg-12">
                                <h4>Question 3</h3>
                                    <br>
                                    <br>
                                    <h4>You like children.</h4>
                                    <br>
                                    <br>
                                    <div class="form-group col-xs-3">
                                        <select class="form-control" id="q3">
                                            <option>1 (Strongly Disagree)</option>
                                            <option>2</option>
                                            <option>3</option>
                                            <option>4</option>
                                            <option>5 (Strongly Agree)</option>
                                        </select>
                                    </div>
                            </div>
                            <div class="row col-lg-12">
                                <h4>Question 4</h4>
                                <br>
                                <br>
                                <h4>You tend to get upset easily.</h4>
                                <br>
                                <br>
                                <div class="form-group col-xs-3">
                                    <select class="form-control" id="q4">
                                        <option>1 (Strongly Disagree)</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5 (Strongly Agree)</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row col-lg-12">
                                <h4>Question 5</h4>
                                <br>
                                <br>
                                <h4>You have a good relationsip with your family.</h4>
                                <br>
                                <br>
                                <div class="form-group col-xs-3">
                                    <select class="form-control" id="q5">
                                        <option>1 (Strongly Disagree)</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5 (Strongly Agree)</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row col-lg-12">
                                <h4>Question 6</h4>
                                <br>
                                <br>
                                <h4>You tend to handle stress well.</h4>
                                <br>
                                <br>
                                <div class="form-group col-xs-3">
                                    <select class="form-control" id="q6">
                                        <option>1 (Strongly Disagree)</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5 (Strongly Agree)</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row col-lg-12">
                                <h4>Question 7</h4>
                                <br>
                                <br>
                                <h4>You are a sports fan.</h4>
                                <br>
                                <br>
                                <div class="form-group col-xs-3">
                                    <select class="form-control" id="q7">
                                        <option>1 (Strongly Disagree)</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5 (Strongly Agree)</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row col-lg-12">
                                <h4>Question 8</h4>
                                <br>
                                <br>
                                <h4>You tend to be considerate of other people's feelings.</h4>
                                <br>
                                <br>
                                <div class="form-group col-xs-3">
                                    <select class="form-control" id="q8">
                                        <option>1 (Strongly Disagree)</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5 (Strongly Agree)</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row col-lg-12">
                                <h4>Question 9</h4>
                                <br>
                                <br>
                                <h4>You like animals.</h4>
                                <br>
                                <br>
                                <div class="form-group col-xs-3">
                                    <select class="form-control" id="q9">
                                        <option>1 (Strongly Disagree)</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5 (Strongly Agree)</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row col-lg-12">
                                <h4>Question 10</h4>
                                <br>
                                <br>
                                <h4>You tend to handle conflict well.</h4>
                                <br>
                                <br>
                                <div class="form-group col-xs-3">
                                    <select class="form-control" id="q10">
                                        <option>1 (Strongly Disagree)</option>
                                        <option>2</option>
                                        <option>3</option>
                                        <option>4</option>
                                        <option>5 (Strongly Agree)</option>
                                    </select>
                                </div>
                            </div> -->
                            <br>
                            <button type="button" class="btn btn-primary btn-block" id="submit">Submit</button>
                            <!-- <td><input type="submit" value="Submit Survey"> </td> -->
                            <!-- <div class="text-left">
                                <button type="submit" class="btn btn-primary btn-md" id="submit-btn">
                                    <span class="fa fa-fire"></span> Submit</button> -->
                            <script>
                                console.log("submit");
                            </script>
                        </form>
                        <!-- Modal -->
                        <div class="modal fade" id="friend-modal" role="dialog">
                            <div class="modal-dialog">

                                <!-- Modal content-->
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal">&times;</button>
                                        <h4 class="modal-title"></h4>
                                    </div>
                                    <div class="modal-body">
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default"
                                            data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <script type="text/javascript">
                        // This Submit button's on-click event receives the user input:
                        $("#submit-button").on("click", function (event) {
                            event.preventDefault();

                            //This checks to make sure the form is filled out:
                            var validEntry;
                            if ($("#name").val().trim() === "") {
                                alert("Please provide a name.");
                            }
                            else if ($("#link").val().trim() === "") {
                                alert("Please provide a link to a photo.");
                            }
                            else {
                                //This is an empty array to hold the value from the survey questions:
                                var answerArray = [];
                                //Creating a for loop to push the answers from survey to the array (NEED TO UPDATE i< AS QUESTIONS ARE ADDED):
                                for (i = 1; i < 11; i++) {
                                    answerArray.push(parseInt($("#question" + i).val().substring(0, 1)));
                                }

                                //This creates an object to hold the newly entered information:
                                var newFriend = {
                                    name: $("#name").val().trim(),
                                    image: $("#link").val().trim(),
                                    scores: answerArray
                                };

                                //This records the current location (should work after deployment):
                                var currentURL = window.location.origin;

                                $.post("/api/friends", newFriend)
                                    .then(function (data) {
                                        console.log("survey.html", data);

                                        // This clears the form after submitting the user input:
                                        $("#name").val("");
                                        $("#link").val("");
                                    });
                            }
                        });

                    </script>
                </div>
                <footer class="footer">
                    <div class="container">
                        <p>
                            <a href="/api/friends">API Friends List</a> |
                            <a href="https://github.com/barukhashem/Friend-Finder">GitHub Repo</a>
                        </p>
                    </div>
                </footer>
            </div>
</body>

</html>